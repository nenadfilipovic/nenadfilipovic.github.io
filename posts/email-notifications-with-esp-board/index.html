<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Email Notifications With Esp Board - Diy &amp; Code</title><meta name=description content="I wanted to create simple notification script that will notify me when my board detects new software version on github by email.
I have tried few smtp micropython libraries and they throw me errors all the time so I opted for simpler solution to create my php script that will send received data as notification to my email.
&lt;?php $_POST = json_decode(file_get_contents('php://input'), true); $link = $_POST['link']; $name = $_POST['name']; $version = $_POST['version']; $to = 'put target email here'; $subject = &#34;New version of $nameis available for download."><meta name=author content="Nenad Filipovic"><link rel=canonical href=https://mydiy.space/posts/email-notifications-with-esp-board/><link rel=icon href=/favicon.png type=image/png><link rel=stylesheet href=https://mydiy.space/styles/main.min.2918d3088a6d3d1053f049223c6521e64c6d6a5ec83018e5844642a6522b5d0a.css integrity="sha256-KRjTCIptPRBT8EkiPGUh5kxtal7IMBjlhEZCplIrXQo="><meta property=og:title content="Email Notifications With Esp Board"><meta property=og:description content="I wanted to create simple notification script that will notify me when my board detects new software version on github by email.
I have tried few smtp micropython libraries and they throw me errors all the time so I opted for simpler solution to create my php script that will send received data as notification to my email.
&lt;?php $_POST = json_decode(file_get_contents('php://input'), true); $link = $_POST['link']; $name = $_POST['name']; $version = $_POST['version']; $to = 'put target email here'; $subject = &#34;New version of $nameis available for download."><meta property=og:type content=article><meta property=og:url content=https://mydiy.space/posts/email-notifications-with-esp-board/><meta property=article:published_time content=2019-10-07T20:32:40+02:00><meta property=article:modified_time content=2019-10-07T20:32:40+02:00><meta name=twitter:card content=summary><meta name=twitter:title content="Email Notifications With Esp Board"><meta name=twitter:description content="I wanted to create simple notification script that will notify me when my board detects new software version on github by email.
I have tried few smtp micropython libraries and they throw me errors all the time so I opted for simpler solution to create my php script that will send received data as notification to my email.
&lt;?php $_POST = json_decode(file_get_contents('php://input'), true); $link = $_POST['link']; $name = $_POST['name']; $version = $_POST['version']; $to = 'put target email here'; $subject = &#34;New version of $nameis available for download."><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:500,100,300" rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.28.0/feather.min.js></script><script src=https://rawcdn.githack.com/nextapps-de/spotlight/0.6.3/dist/spotlight.bundle.js></script></head><body><div class="container wrapper post"><div class=header><h1 class=site-title>Diy &amp; Code</h1><div class=site-description><h2>Personal blog about <a href=https://github.com/nenadfilipovic>electronics / diy / programming</a></h2><nav class="nav social"><ul class=flat><a href=https://github.com/nenadfilipovic title=Github><i data-feather=github></i></a><a href=https://gitlab.com/nenadfilipovic title=Gitlab><i data-feather=gitlab></i></a><a href=mailto:contact@nenadfilipovic.site title=Email><i data-feather=mail></i></a><a href=/index.xml title=RSS><i data-feather=rss></i></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>Home</a></li><li><a href=/posts>All posts</a></li><li><a href=/about>About</a></li><li><a href=/tags>Tags</a></li></ul></nav></div><div class=post-header><h1 class=title>Email Notifications With Esp Board</h1><div class=meta>Posted at &mdash; Oct 7, 2019</div></div><div class=markdown><p>I wanted to create simple notification script that will notify me when my board
detects new software version on github by email.</p><p>I have tried few smtp micropython libraries and they throw me errors all the
time so I opted for simpler solution to create my php script that will send
received data as notification to my email.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#999;font-weight:700;font-style:italic>&lt;?php</span>
<span style=color:teal>$_POST</span> <span style=color:#000;font-weight:700>=</span> json_decode(file_get_contents(<span style=color:#d14>&#39;php://input&#39;</span>), <span style=color:#000;font-weight:700>true</span>);
<span style=color:teal>$link</span> <span style=color:#000;font-weight:700>=</span> <span style=color:teal>$_POST</span>[<span style=color:#d14>&#39;link&#39;</span>];
<span style=color:teal>$name</span> <span style=color:#000;font-weight:700>=</span> <span style=color:teal>$_POST</span>[<span style=color:#d14>&#39;name&#39;</span>];
<span style=color:teal>$version</span> <span style=color:#000;font-weight:700>=</span> <span style=color:teal>$_POST</span>[<span style=color:#d14>&#39;version&#39;</span>];
<span style=color:teal>$to</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;put target email here&#39;</span>;
<span style=color:teal>$subject</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#34;New version of </span><span style=color:#d14>$name</span><span style=color:#d14> is available for download.&#34;</span>;
<span style=color:teal>$message</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#34;&#34;</span>;
<span style=color:teal>$headers</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#34;From: notification@esp8266.home</span><span style=color:#d14>\r\n</span><span style=color:#d14>&#34;</span>;
<span style=color:teal>$headers</span> <span style=color:#000;font-weight:700>.=</span> <span style=color:#d14>&#34;Reply-To: notification@esp8266.home</span><span style=color:#d14>\r\n</span><span style=color:#d14>&#34;</span>;
<span style=color:teal>$headers</span> <span style=color:#000;font-weight:700>.=</span> <span style=color:#d14>&#34;X-Mailer: PHP/&#34;</span><span style=color:#000;font-weight:700>.</span>phpversion();
<span style=color:teal>$headers</span> <span style=color:#000;font-weight:700>.=</span> <span style=color:#d14>&#34;MIME-Version: 1.0</span><span style=color:#d14>\r\n</span><span style=color:#d14>&#34;</span>;
<span style=color:teal>$headers</span> <span style=color:#000;font-weight:700>.=</span> <span style=color:#d14>&#34;Content-type: text/html; charset=iso-8859-1</span><span style=color:#d14>\r\n</span><span style=color:#d14>&#34;</span>;
<span style=color:#999;font-weight:700;font-style:italic>?&gt;</span>
</code></pre></div><p>My version of this script will send 3 types of data as email notification: name,
version and link. It can be of course changed and expanded. And at the end add
this code to execute request.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#999;font-weight:700;font-style:italic>&lt;?php</span>
mail(<span style=color:teal>$to</span>, <span style=color:teal>$subject</span>, <span style=color:teal>$message</span>, <span style=color:teal>$headers</span>);
<span style=color:#999;font-weight:700;font-style:italic>?&gt;</span>
</code></pre></div><p>Notification provides name of software that have update available, version of
software and direct link to github repository where user can read latest
changes. This script is useful for any software deployment in which is needed to
notify users about new versions.</p><p>Find whole project in this
<a href=https://github.com/nenadfilipovic/esp8266-micropython-email-notification>repository</a>
on github.</p></div></div><div class="footer wrapper"><nav class=nav><div>Version:&nbsp;<a href=/log>2.22</a>&nbsp;|&nbsp;Built with&nbsp;<a href=https://gohugo.io>Hugo</a></div></nav></div><script>feather.replace()</script></body></html>